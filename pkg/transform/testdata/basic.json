[
    {
        "name": "Literal",
        "target": {
            "@context": {"ls": "https://lschema.org/"},
            "@type": "ls:Schema",
            "@id": "http://example.org/TestTarget",
            "ls:layer": {
                "@type": ["ls:Object","http://example.org/TargetType"],
                "ls:Object/attributes": [
                    {
                        "@id": "val1",
                        "@type": "ls:Value",
                        "ls:reshape/source": "'literal'"
                    }
                ]
            }
        },
        "rootId": "http://example.org/obj1",
        "sourceGraph": {
            "@graph": [
                {
                    "@id": "http://example.org/obj1",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/has": [
                        {"@id": "http://example.org/attr1"},
                        {"@id": "http://example.org/attr2"}
                    ]
                },
                {
                    "@id": "http://example.org/attr1",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/attributeValue": "123"
                },
                {
                    "@id": "http://example.org/attr2",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/attributeValue": "true"
                }
            ]
        },
        "expected": {
            "@graph": [
                {
                    "@id": "root",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Object"],
                    "https://lschema.org/has": [
                        {"@id": "val1"}
                    ]
                },
                {
                    "@id":"val1",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Value"],
                    "https://lschema.org/attributeValue":"literal"
                }
            ]
        }
    },
    {
        "name": "Basic 1",
        "target": {
            "@context": {"ls": "https://lschema.org/"},
            "@type": "ls:Schema",
            "@id": "http://example.org/TestTarget",
            "ls:layer": {
                "@type": ["ls:Object","http://example.org/TargetType"],
                "ls:Object/attributes": [
                    {
                        "@id": "val1",
                        "@type": "ls:Value",
                        "ls:reshape/source": "source.firstReachable(node->(node.id=='http://example.org/attr1'))"
                    }
                ]
            }
        },
        "rootId": "http://example.org/obj1",
        "sourceGraph": {
            "@graph": [
                {
                    "@id": "http://example.org/obj1",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/has": [
                        {"@id": "http://example.org/attr1"},
                        {"@id": "http://example.org/attr2"}
                    ]
                },
                {
                    "@id": "http://example.org/attr1",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/attributeValue": "123"
                },
                {
                    "@id": "http://example.org/attr2",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/attributeValue": "true"
                }
            ]
        },
        "expected": {
            "@graph": [
                {
                    "@id": "root",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Object"],
                    "https://lschema.org/has": [
                        {"@id": "val1"}
                    ]
                },
                {
                    "@id":"val1",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Value"],
                    "https://lschema.org/attributeValue":"123"
                }
            ]
        }
    },
    {
        "name": "Basic 2",
        "target": {
            "@context": {"ls": "https://lschema.org/"},
            "@type": "ls:Schema",
            "@id": "http://example.org/TestTarget",
            "ls:layer": {
                "@type": ["ls:Object","http://example.org/TargetType"],
                "ls:Object/attributes": [
                    {
                        "@id": "val1",
                        "@type": "ls:Value",
                        "ls:reshape/source": "source.firstReachable(node->(node.id=='http://example.org/attr1'))"
                    },
                    {
                        "@id": "obj1",
                        "@type": "ls:Object",
                        "ls:Object/attributes": [
                            {
                                "@id": "val2",
                                "@type": "ls:Value",
                                "ls:reshape/source": "source.firstReachable(node->(node.id=='http://example.org/attr2'))"
                            }
                        ]
                    }
                ]
            }
        },
        "rootId": "http://example.org/obj1",
        "sourceGraph": {
            "@graph": [
                {
                    "@id": "http://example.org/obj1",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/has": [
                        {"@id": "http://example.org/attr1"},
                        {"@id": "http://example.org/attr2"}
                    ]
                },
                {
                    "@id": "http://example.org/attr1",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/attributeValue": "123"
                },
                {
                    "@id": "http://example.org/attr2",
                    "@type": "https://lschema.org/DocumentNode",
                    "https://lschema.org/attributeValue": "true"
                }
            ]
        },
        "expected": {
            "@graph": [
                {
                    "@id": "root",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Object"],
                    "https://lschema.org/has": [
                        {"@id": "val1"},
                        {"@id": "obj1"}
                    ]
                },
                {
                    "@id":"val1",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Value"],
                    "https://lschema.org/attributeValue":"123"
                },
                {
                    "@id":"obj1",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Object"],
                    "https://lschema.org/has": [
                        {"@id": "val2"}
                    ]
                },
                {
                    "@id":"val2",
                    "@type": ["https://lschema.org/DocumentNode","https://lschema.org/Value"],
                    "https://lschema.org/attributeValue":"true"
                }
            ]
        }
    }
]
